<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Budget Tracker Pro+</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(120deg,#7f7fd5,#86a8e7,#91eae4);
    margin: 0;
    padding: 0;
    color: #222;
  }
  .container {
    width: 95%;
    max-width: 850px;
    margin: 40px auto;
    background: #fff;
    border-radius: 16px;
    padding: 25px;
    box-shadow: 0 4px 25px rgba(0,0,0,0.15);
  }
  h1 {text-align:center;color:#004aad;}
  .dashboard{display:flex;flex-wrap:wrap;gap:15px;justify-content:space-between;margin-bottom:25px;}
  .card{flex:1;min-width:200px;background:#f0f6ff;padding:15px;border-radius:12px;text-align:center;}
  .income{color:green}.expense{color:red}.balance{color:#004aad}
  form{background:#eef3ff;padding:15px;border-radius:12px;margin-bottom:25px;}
  input,select,button{width:100%;padding:10px;margin-bottom:10px;font-size:1rem;border-radius:8px;border:1px solid #ccc;}
  button{background:#004aad;color:#fff;font-weight:bold;border:none;cursor:pointer;}
  button:hover{background:#00327d}
  ul{list-style:none;padding:0;margin:0;}
  li{display:flex;justify-content:space-between;align-items:center;background:#f7f9ff;padding:12px;border-radius:8px;margin-bottom:8px;border-left:6px solid;}
  li.income-item{border-color:green;}li.expense-item{border-color:red;}
  .delete-btn{background:none;border:none;color:red;cursor:pointer;font-weight:bold;}
  canvas{margin-top:25px;background:#fff;border-radius:12px;padding:10px;}
  footer{text-align:center;color:#fff;margin-top:20px;}
</style>
</head>
<body>
<div class="container">
  <h1>ðŸ’° Budget Tracker Pro+</h1>
  <div class="dashboard">
    <div class="card income"><h3>Total Income</h3><p id="income">â‚¬0.00</p></div>
    <div class="card expense"><h3>Total Expenses</h3><p id="expense">â‚¬0.00</p></div>
    <div class="card balance"><h3>Balance</h3><p id="balance">â‚¬0.00</p></div>
  </div>

  <form id="transactionForm">
    <input id="text" placeholder="Description (e.g., Salary, Rent)" required>
    <input id="amount" type="number" placeholder="Amount (positive=income, negative=expense)" required>
    <input id="date" type="date" required>
    <select id="category" required>
      <option value="">Select Category</option>
      <optgroup label="Income Categories">
        <option>Salary</option><option>Business</option><option>Investments</option>
        <option>Freelance</option><option>Grants</option><option>Gifts</option>
        <option>Refunds</option><option>Other Income</option>
      </optgroup>
      <optgroup label="Expense Categories">
        <option>Rent</option><option>Utilities</option><option>Food</option>
        <option>Transportation</option><option>Healthcare</option><option>Education</option>
        <option>Insurance</option><option>Entertainment</option><option>Clothing</option>
        <option>Savings</option><option>Miscellaneous</option>
      </optgroup>
    </select>
    <button type="submit">âž• Add Transaction</button>
  </form>

  <h2>Recent Transactions</h2>
  <ul id="transactionList"></ul>

  <h2>ðŸ“† Monthly Overview</h2>
  <select id="monthSelect"></select>
  <p id="monthSummary"></p>
  <canvas id="incomeExpenseChart"></canvas>
  <canvas id="categoryChart"></canvas>
</div>
<footer>Â©2025 Budget Tracker Pro+</footer>

<script>
const incomeDisplay=document.getElementById("income");
const expenseDisplay=document.getElementById("expense");
const balanceDisplay=document.getElementById("balance");
const list=document.getElementById("transactionList");
const form=document.getElementById("transactionForm");
const monthSelect=document.getElementById("monthSelect");
const monthSummary=document.getElementById("monthSummary");
const incomeExpenseCtx=document.getElementById("incomeExpenseChart").getContext("2d");
const categoryCtx=document.getElementById("categoryChart").getContext("2d");
let transactions=JSON.parse(localStorage.getItem("transactions"))||[];
let barChart,pieChart;

function updateTotals(){
  const income=transactions.filter(t=>t.amount>0).reduce((a,t)=>a+t.amount,0).toFixed(2);
  const expense=transactions.filter(t=>t.amount<0).reduce((a,t)=>a+t.amount,0).toFixed(2);
  const balance=(income-Math.abs(expense)).toFixed(2);
  incomeDisplay.textContent=`â‚¬${income}`;
  expenseDisplay.textContent=`â‚¬${Math.abs(expense)}`;
  balanceDisplay.textContent=`â‚¬${balance}`;
}
function addTransaction(e){
  e.preventDefault();
  const text=document.getElementById("text").value.trim();
  const amount=+document.getElementById("amount").value;
  const date=document.getElementById("date").value;
  const category=document.getElementById("category").value;
  if(!text||!amount||!date||!category)return;
  transactions.push({id:Date.now(),text,amount,date,category});
  localStorage.setItem("transactions",JSON.stringify(transactions));
  form.reset(); render();
}
function removeTransaction(id){
  transactions=transactions.filter(t=>t.id!==id);
  localStorage.setItem("transactions",JSON.stringify(transactions));
  render();
}
function render(){
  list.innerHTML="";
  transactions.forEach(t=>{
    const li=document.createElement("li");
    li.classList.add(t.amount>0?"income-item":"expense-item");
    li.innerHTML=`<span><strong>${t.text}</strong> - ${t.category} (${t.date})</span>
      <span>${t.amount>0?"+":"-"}â‚¬${Math.abs(t.amount)}</span>
      <button class="delete-btn" onclick="removeTransaction(${t.id})">x</button>`;
    list.appendChild(li);
  });
  updateTotals();
  populateMonths();
  updateCharts();
}
function populateMonths(){
  const months=[...new Set(transactions.map(t=>t.date.slice(0,7)))];
  monthSelect.innerHTML=months.map(m=>`<option value="${m}">${formatMonth(m)}</option>`).join("");
}
function formatMonth(ym){
  const [y,m]=ym.split("-");
  return `${new Date(y,m-1).toLocaleString("default",{month:"long"})} ${y}`;
}
function updateCharts(){
  const selected=monthSelect.value||(transactions[0]?.date||"").slice(0,7);
  const filtered=transactions.filter(t=>t.date.startsWith(selected));
  const income=filtered.filter(t=>t.amount>0).reduce((a,t)=>a+t.amount,0);
  const expense=filtered.filter(t=>t.amount<0).reduce((a,t)=>a+Math.abs(t.amount),0);
  monthSummary.textContent=`Income: â‚¬${income.toFixed(2)} | Expenses: â‚¬${expense.toFixed(2)} | Balance: â‚¬${(income-expense).toFixed(2)}`;
  const catData={};
  filtered.forEach(t=>{catData[t.category]=(catData[t.category]||0)+Math.abs(t.amount);});
  if(barChart)barChart.destroy();
  barChart=new Chart(incomeExpenseCtx,{type:"bar",data:{labels:["Income","Expense"],datasets:[{label:"Monthly Summary (â‚¬)",data:[income,expense],backgroundColor:["#28a745","#dc3545"]}]}});
  if(pieChart)pieChart.destroy();
  pieChart=new Chart(categoryCtx,{type:"pie",data:{labels:Object.keys(catData),datasets:[{data:Object.values(catData),backgroundColor:["#007bff","#ffc107","#dc3545","#28a745","#6f42c1","#20c997","#fd7e14","#17a2b8","#e83e8c","#6610f2","#adb5bd"]}]}});  
}
monthSelect.addEventListener("change",updateCharts);
form.addEventListener("submit",addTransaction);
render();
</script>
</body>
</html>
